# Tagmane (ver 1.0.1)

![Tagmane Cover](asset/cover.png)

Tagmaneは、画像のタグ管理を効率化するためのデスクトップアプリケーションです。機械学習モデルを使用して自動的にタグを生成し、ユーザーが手動でタグを編集・管理することができます。

## 更新履歴

- 2024/10/17: pre-release
- 2024/10/23: ver 1.0.0
  - VLM推論のGPU対応
  - ログ機能の追加
  - タグカテゴリ管理の追加
  - WebP画像対応 など
- 2024/10/26: ver 1.0.1
  - 速度表示の追加と一部VLM処理の高速化 (tofu-bar氏のPRに感謝します)
  - ライセンス同意画面の追加
  - フォルダ名をタグとして追加する機能の追加 (一部機能がまだ未実装です)
  - タグのtop/bottomへの移動機能の追加

## 主な機能

1. **フォルダ選択**: 画像が含まれるフォルダを選択し、一括で画像を読み込みます。

2. **タグの自動生成**: 複数のVLM（Vision Language Model）を使用して、画像に適したタグを自動的に生成します。

3. **タグの手動編集**: 
   - タグの追加、削除、並び替えが可能です。
   - ドラッグ＆ドロップでタグの順序を変更できます。

4. **フィルタリング機能**: 
   - 特定のタグを含む画像のみを表示できます。
   - ANDモードとORモードを切り替えて、複数のタグでフィルタリングできます。

5. **Undo/Redo機能**: タグの編集操作を取り消したり、やり直したりすることができます。

6. **タグの一括操作**: 
   - 選択したタグをすべての画像から一括で追加・削除することができます。
   - タグの一括置換が可能です。

7. **タグの保存**: 編集したタグを各画像に対応するテキストファイルに保存できます。

8. **ログ機能**: 操作ログ、デバッグログ、VLM推論ログを表示し、アプリケーションの動作を確認できます。

9. **タグカテゴリ管理**: 
   - カスタムタグカテゴリを作成・編集できます。
   - プレフィックス/サフィックスによるタグの自動並び替えが可能です。

10. **WebP画像対応**: WebP形式の画像を表示・処理することができます。

## 使用方法

1. アプリケーションを起動し、「フォルダを選択」ボタンをクリックして画像フォルダを選択します。
2. 画像リストから画像を選択すると、中央に画像が表示されます。
3. 「VLM推論」ボタンをクリックすると、選択した画像に対してタグが自動生成されます。
4. 右側のパネルでタグを編集します。タグの追加、削除、並び替えが可能です。
5. フィルタリングボタンを使用して、特定のタグを含む画像のみを表示できます。
6. 編集が完了したら、「タグを保存」ボタンをクリックしてタグをファイルに保存します。

## 要件

- .NET 6.0以上
- Windows 7以上
- CUDA 11.x / cuDNN 8.x ( 現状CUDA 12.x, cuDNN 9.xでの使用報告もありますが、動作保証対象外とします )

## インストール

現在、Tagmaneはデバッグモードでのみ実行可能です。以下の手順で実行してください：

1. Visual Studioでソリューションファイル（.sln）を開きます。
2. デバッグモードで実行します（F5キーを押すか、「デバッグ」メニューから「デバッグの開始」を選択）。

注意：現在のバージョンでは、実行可能ファイル（.exe）での配布は行っていません。

## 注意

- webp画像のロードには、libwebp.dllを別途ビルドし、パスを指定する必要があります。
  - 詳細については以下のリンクを参照してください：
    - プリコンパイル済みバイナリ: https://developers.google.com/speed/webp/docs/precompiled?hl=ja
    - WebP FAQ: https://developers.google.com/speed/webp/faq?hl=ja

- 現状、画像の削除はUndoできません。
  - バックアップを取っておくか、確認のチェックボックスは外さないことをお勧めします。

## ライセンス

(2024/10/20追記) このプロジェクトはGNU Affero General Public License v3.0 (AGPL-3.0)の下で公開されています。詳細については、[LICENSE](LICENSE.txt)ファイルを参照してください。

ライセンスとは別になりますが、有償/商用記事での本ソフトウェアの紹介はお控えいただきますようよろしくお願いします。

**注意**: 本ソフトウェアはAGPL-3.0ライセンスの下で提供されています。このライセンスには、ソフトウェアの使用、複製、変更、配布に関する特定の条件が含まれています。ソフトウェアを使用する前に、ライセンスの条項をよくお読みください。

今後、ライセンスが変更される可能性があります。本ソフトウェアを使用することで、将来的なライセンス変更の可能性に同意したものとみなされます。

## 貢献

バグ報告や機能リクエストは、GitHubのIssueを通じて行ってください。プルリクエストも歓迎します。

## 作者

cella (X: [@cella_XL](https://x.com/cella_XL))

## 免責事項

このソフトウェアは随時開発中であり、予期せぬ動作をする可能性があります。使用する際は自己責任でお願いします。開発者は、このソフトウェアの使用によって生じたいかなる損害についても責任を負いません。
